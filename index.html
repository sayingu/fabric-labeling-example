<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>라벨링툴 시험 제작</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
</head>

<body>
    <script>
        $(document).ready(function () {
            // 줌 관련 버튼
            $('#zoom-plus').on("click", function () { dap.zoomCanvas(-100); });
            $('#zoom-minus').on("click", function () { dap.zoomCanvas(100); });
            $('#zoom-org').on("click", function () { dap.zoomCanvas(); });

            // Selection mode change event
            $('#case').on('change', function () {
                if ($(this).val() == '19') {
                    dap.setShapes('rgba(255, 0, 0, 0.8)', 10, 'rgba(255, 0, 0, 0.4)');
                } else if ($(this).val() == '20') {
                    dap.setShapes('rgba(0, 255, 0, 0.8)', 5, 'rgba(0, 255, 0, 0.4)');
                }
            });
            $('input[type=radio][name=rad-mode]').on('change', function () {
                dap.setModeinfo($(this).val());
            });
            $('#rad-mode-fillBrush').on('click', function () {
                dap.setModeinfo('FillBrush');
            });
            $('#rad-mode-rect').on('click', function () {
                dap.setModeinfo('Rectangle');
            });
            $('#rad-mode-polygon').on('click', function () {
                dap.setModeinfo('Polygon');
            });

            // 삭제 버튼
            $('#btn-canvas-delete').on("click", dap.deleteObject);

            // 초기화 버튼
            $('#btn-canvas-clear').on("click", dap.clearCanvas);

            // 저장 버튼
            $('#btn-canvas-save').on('click', function () {
                localStorage.setItem('konvaJSON', JSON.stringify(dap.saveToJSON()));
            });

            // 로드 버튼
            $('#btn-canvas-load').on('click', function () {
                dap.loadFromJSON(JSON.parse(localStorage.getItem('konvaJSON')));
            });

            // UNDO 버튼
            $('#btn-undo').on('click', dap.undoCanvas);

            // REDO 버튼
            $('#btn-redo').on('click', dap.redoCanvas);
        });
    </script>
    <!-- <canvas id="c" width="500" height="500" style="border:1px solid #aaa;"></canvas> -->
    <div id="konva-container" style="width: 1000px; height: 1000px; float: left; margin-right: 40px;"></div>
    <div style="float: left; margin-top: 20px; margin-right: 40px;">
        <label><input type="radio" name="rad-mode" value="Select" checked />Select</label>
        <br />
        <br />

        <select id="imageLabel_judgeTpId">
            <option value="19" data-judge_tp_cd="fail">CASE-A (색상:레드, 선굵기:10)</option>
            <option value="20" data-judge_tp_cd="pass">CASE-B (색상:그린, 선굵기:5)</option>
        </select>
        <br />
        <br />

        <label><input type="radio" id="rad-mode-brush" name="rad-mode" value="Brush" />Brush</label>
        <br />
        <br />

        <label><input type="radio" id="rad-mode-fillBrush" name="rad-mode" value="FillBrush" />Fill Brush</label>
        <br />
        <br />

        <label><input type="radio" id="rad-mode-rect" name="rad-mode" value="Rectangle" />Rectangle</label>
        <br />
        <br />

        <label><input type="radio" id="rad-mode-polygon" name="rad-mode" value="Polygon" />Polygon</label>
        <br />
        <br />
        <br />
        <br />

        Zoom:
        <span id="zoom-info" style="display: inline-block;width: 50px;">100%</span>
        <button id="zoom-plus"> + </button>
        <button id="zoom-minus"> - </button>
        <button id="zoom-org">1 : 1</button>
        <br />
        <br />
    </div>
    <div style="float: left; margin-top: 20px; margin-right: 40px;">
        <button id="btn-canvas-delete">Delete Selected</button>
        <br />
        <br />

        <button id="btn-canvas-clear">Delete All</button>
        <br />
        <br />

        <button id="btn-canvas-save">Save</button>
        <br />
        <br />
        <button id="btn-canvas-load">Load</button>
        <br />
        <br />

        <button id="btn-undo">Undo</button>
        <br />
        <br />
        <button id="btn-redo">Redo</button>
        <br />
        <br />
    </div>
    <!-- konva -->
    <script src="konva.min.js"></script>
    <script src="konva.main.js"></script>

    <!-- fabricjs -->
    <!-- <script src="fabric.min.js"></script>
    <script src="fabric.main.js"></script> -->
</body>

</html>