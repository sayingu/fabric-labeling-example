<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Page Title</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <style>
        .canvas-container {
            float: left;
        }
    </style>
</head>

<body>ㄴ
    <script>
        $(document).ready(function () {
            // 줌 관련 버튼
            $('#zoom-plus').on("click", function () { dap.zoomCanvas(-100); });
            $('#zoom-minus').on("click", function () { dap.zoomCanvas(100); });
            $('#zoom-org').on("click", function () { dap.zoomCanvas(); });

            // Selection mode change event
            $('input[type=radio][name=rad-mode]').on('change', function () {
                modeInfo.mode = $('input[type=radio][name=rad-mode]:checked').val();
                modeInfo.rect.step = 0;ㄴ
                canvas.remove(modeInfo.rect.line1);
                canvas.remove(modeInfo.rect.line2);
                modeInfo.poly.circleCount = 0;
                modeInfo.poly.polygonCount++;
                canvas.isDrawingMode = false;

                switch ($(this).val()) {
                    case 'Brush':
                        dap.setCanvasSelection(false);
                        canvas.isDrawingMode = true;
                        break;
                    case 'FillBrush':
                        dap.setCanvasSelection(false);
                        canvas.isDrawingMode = true;
                        break;
                    case 'Select':
                        dap.setCanvasSelection(true);
                        break;
                    case 'Rectangle':
                        dap.setCanvasSelection(false);
                        modeInfo.rect.step = 1;
                        canvas.add(modeInfo.rect.line1);
                        canvas.add(modeInfo.rect.line2);
                        break;
                    case 'Polygon':
                        dap.setCanvasSelection(false);
                        break;
                    default:
                        break;
                }

                canvas.requestRenderAll();
            });
            $('#rad-mode-rect').on('click', function () {
                modeInfo.rect.step = 1;
            });
            $('#rad-mode-polygon').on('click', function () {
                modeInfo.poly.circleCount = 0;
                modeInfo.poly.polygonCount++;
            });

            // 초기화 버튼
            $('#btn-canvas-clear').on("click", dap.clearCanvas);

            // 이미지저장 버튼
            $('#btn-canvas-save').on('click', dap.saveCanvasToBitmap);

            // 사각형좌표정보 버튼
            $('#btn-rect-info').on('click', dap.getRectInfo);

            // UNDO 버튼
            $('#btn-undo').on('click', dap.undoCanvas);

            // REDO 버튼
            $('#btn-redo').on('click', dap.redoCanvas);
        });
    </script>
    <div style="float: left; margin-right: 100px;">
        <canvas id="c" width="500" height="500" style="border:1px solid #aaa;"></canvas>

        <div style="display: inline-block; margin-left: 10px; ">
            <label><input type="radio" id="rad-mode-brush" name="rad-mode" value="Brush" />Brush</label>
            <br />
            <br />

            <label><input type="radio" id="rad-mode-fillBrush" name="rad-mode" value="FillBrush" />Fill Brush</label>
            <br />
            <br />

            <label><input type="radio" name="rad-mode" value="Select" checked />Select</label>
            <br />
            <br />

            <label><input type="radio" id="rad-mode-rect" name="rad-mode" value="Rectangle" />Rectangle</label>
            <br />
            <br />

            <label><input type="radio" id="rad-mode-polygon" name="rad-mode" value="Polygon" />Polygon</label>
            <br />
            <br />
            <br />
            <br />

            Zoom:
            <span id="zoom-info" style="display: inline-block;width: 50px;">100%</span>
            <button id="zoom-plus"> + </button>
            <button id="zoom-minus"> - </button>
            <button id="zoom-org">1 : 1</button>
            <br />
            <br />
        </div>
    </div>
    <div>
        <button id="btn-canvas-clear">Clear</button>
        <br />
        <br />

        <button id="btn-canvas-save">Save</button>
        <br />
        <br />

        <button id="btn-rect-info">Rectangle info</button>
        <br />
        <br />

        <button id="btn-undo" disabled>UNDO</button>
        <br />
        <br />
        <button id="btn-redo" disabled>REDO</button>
        <br />
        <br />
        <p>1. 네모 선택후 조절은 위치만 되도록 셀렉터 만들기</p>
    </div>
    <!-- fabricjs -->
    <script src="fabric.min.js"></script>
    <script src="fabric.main.js"></script>
</body>

</html>